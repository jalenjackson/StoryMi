<!DOCTYPE html>
<html>
  <head>
    <style>
      .cat-link{
        color:white !important;
      }
        .nav-item:hover{
          background: none;
          color:black !important;
        }
    </style>
    <title>TellAFiction</title>
    <%= csrf_meta_tags %>
    <%= javascript_include_tag 'alertify.min' %>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_link_tag 'alertify.min' %>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Alex+Brush|Indie+Flower" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet">
  </head>

  <body>

  <div style="display:none;" class="mobile-overlay">
    <div class="mobile-overlay2">
    <h1>Story Time is compatible with laptops, desktops, and tablets</h1>
    <h1>Mobile version is under development</h1>
    </div>
  </div>
  <p class="notice"><%= notice %></p>
  <p class="alert"><%= alert %></p>

  <div class="category-overlay">

    <h1 class="animated bounceInLeft"><a class="cat-link" href = "/category/8"><span style="background: url(http://www.jotdown.es/wp-content/uploads/2014/12/peq1.jpg)">SCI-FI</span></a></h1>
    <h1 style="animation-delay: 0.1s ;" class="animated bounceInLeft"><a class="cat-link" href = "/category/1"><span style="animation-delay: 0.3s ;background: linear-gradient(to left, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.25) 0%), url(https://image.shutterstock.com/z/stock-vector-scary-fantasy-pattern-background-hair-and-eyes-blue-eyes-in-pink-hair-294640793.jpg)">Horror</span></a></h1>
    <h1 style="animation-delay: 0.2s ;" class="animated bounceInLeft"><a class="cat-link" href = "/category/4"><span style="animation-delay: 0.6s ;background: linear-gradient(to left, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.25) 0%), url(https://d1yn1kh78jj1rr.cloudfront.net/preview/vector-seamless-texture-with-abstract-flowers-endless-background-ethnic-sea_zknayTcu_S.jpg)">Fantasy</span></a></h1>
    <h1 style="animation-delay: 0.3s ;" class="animated bounceInLeft"><a class="cat-link" href = "/category/3"><span style="animation-delay: 0.9s ;background: linear-gradient(to left, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.25) 0%),url(https://st.depositphotos.com/1341440/1362/v/950/depositphotos_13624912-stock-illustration-seamless-pattern-with-pink-and.jpg)">Romance</span></a></h1>
    <h1 style="animation-delay: 0.4s ;"class="animated bounceInLeft"><a class="cat-link" href = "/category/6"><span style="animation-delay: 1.2s ;background: linear-gradient(to left, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.25) 0%),url(https://www.presentationmagazine.com/powerpoint-templates/9/8/98199434/free-color-powerpoint-template-for-presentations-_1.jpg)">Thriller</span></a></h1>
    <h1 style="animation-delay: 0.5s ; "class="animated bounceInLeft"><a class="cat-link" href = "/category/5"><span style="animation-delay: 1.5s ;background: linear-gradient(to left, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.25) 0%),url(https://previews.123rf.com/images/mihno/mihno1505/mihno150500047/40730251-Abstract-ink-background-Marble-style-White-black-ink-in-water-Stock-Photo.jpg)">Mystery</span></a></h1>
    <h1 style="animation-delay: 0.6s ; "class="animated bounceInLeft"><a class="cat-link" href = "/category/2"><span style="animation-delay: 1.9s ;background: linear-gradient(to left, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.25) 0%),url(https://cdn.pixabay.com/photo/2014/03/04/19/51/dark-279694_1280.png)">Drama</span></a></h1>
    <h1 style="animation-delay: 0.7s ;" class="animated bounceInLeft"><a  class="cat-link" href = "/category/7"><span style="animation-delay: 2.1s ;background: linear-gradient(to left, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.25) 0%),url(https://st2.depositphotos.com/5817452/8470/v/950/depositphotos_84703236-stock-illustration-crowd-of-laughing-people-hand.jpg)">Comedy</span></a></h1>
  </div>
  <nav class=" navigation-bar  is-visible" data-nav-status="toggle">
    <ul>
      <li><a class="brand" style="font-size:30px; font-weight:lighter;  font-family: 'Lato',  sans-serif;" href = "/">TellAFiction</a></li>
      <li><a class= "nav-item" href = "/">Home</a></li>
      <li style="cursor: pointer;" class="category-go">Categories</li>
      <li style="cursor: pointer; animation-iteration-count: infinite; animation-duration: 200ms;" class="category-go1 animated pulse">Message Stories</li>
      <li style="cursor: pointer; animation-iteration-count: infinite; animation-duration: 200ms;" class="category-go2 animated pulse">Stories</li>

      <% if user_signed_in? %>
      <li ><%= link_to 'New Story', '/story/new', class:'nav-item' %></li>
      <% end %>




      <% if user_signed_in? %>
      <li ><a class="nav-item" href = "/profile/<%= current_user.id %>">My Profile</a></li>
      <li><%= link_to 'Edit your profile', edit_user_registration_path , class:'nav-item' %></li>

      <%= link_to "Sign out", destroy_user_session_path, :method => :delete , class:'nav-item'%>
          <li style="float: right; "><h1  class="story-name"> </h1></li>

    </ul>
      <% else %>
          <li><%= link_to "Sign In", new_user_session_path, :style=>'transform:translate(20px,-22px)', class: 'nav-item'%></li>
          <li><%= link_to "Sign Up", new_user_registration_path, :style=>'transform:translate(30px,-22px)', class: 'nav-item'  %></li>

    <% end %>


      </nav>


  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-98281188-1', 'auto');
      ga('send', 'pageview');

  </script>

  <%= yield %>

  <script>

    $(".category-go1").click(function(){
        window.location.href = "/";
    });
    $(".category-go2").click(function(){
        window.location.href = "/articles";

    });

    $(".category-overlay").hide();
    $(".category-go").click(function(){
        $(".category-overlay").fadeIn("slow");
    });

    $(".category-overlay").click(function(){
        $(".category-overlay").fadeOut("slow");
    });

    $(".cat-link").click(function(){
        $(".category-overlay").show();
    });

      $(document).ready(function(){

          /** ===========================================
           Hide / show the master navigation menu
           ============================================ */

              // console.log('Window Height is: ' + $(window).height());
              // console.log('Document Height is: ' + $(document).height());

          var previousScroll = 0;

          $(window).scroll(function(){

              var currentScroll = $(this).scrollTop();

            /*
             If the current scroll position is greater than 0 (the top) AND the current scroll position is less than the document height minus the window height (the bottom) run the navigation if/else statement.
             */
              if (currentScroll > 0 && currentScroll < $(document).height() - $(window).height()){
                /*
                 If the current scroll is greater than the previous scroll (i.e we're scrolling down the page), hide the nav.
                 */
                  if (currentScroll > previousScroll){
                      window.setTimeout(hideNav, 300);
                    /*
                     Else we are scrolling up (i.e the previous scroll is greater than the current scroll), so show the nav.
                     */
                  } else {
                      window.setTimeout(showNav, 300);
                  }
                /*
                 Set the previous scroll value equal to the current scroll.
                 */
                  previousScroll = currentScroll;
              }

          });

          function hideNav() {
              $("[data-nav-status='toggle']").removeClass("is-visible").addClass("is-hidden");
          }
          function showNav() {
              $("[data-nav-status='toggle']").removeClass("is-hidden").addClass("is-visible");
          }

      });
  </script>
<style>

</style>

  </body>

</html>
